<!DOCTYPE html>
<html>
<body>
    <p id=employees></p>
    <!-- help from https://www.w3schools.com/JS/js_random.asp
    and https://www.geeksforgeeks.org/how-to-get-url-parameters-using-javascript/-->
    <script>
        function loadFile(filePath) {
          var result = null;
          var xmlhttp = new XMLHttpRequest();
          xmlhttp.open("GET", filePath, false);
          xmlhttp.send();
          if (xmlhttp.status==200) {
            result = xmlhttp.responseText;
          }
          return result;
        }

        var myStuff = loadFile("employees.txt");
        alert(myStuff);
        //const {readFileSync, promises: fsPromises} = require('fs');
        //const fs = require('fs');
        //let file = document.getElementById("readfile");
        //file.addEventListener("change", function () {
        //var reader = new FileReader();
        //reader.onload = function (progressEvent) {
        //    console.log(this.result);
        // };
         // var file = new File(
        //  reader.readAsText(myStuff);//this.files[0]);
        //});
        // read file SYNCHRONOUSLY
        function syncReadFile(filename) {
          const contents = readFileSync(filename, 'utf-8');
          const arr = contents.split(/\r?\n/);
          console.log(arr); //  ['One', 'Two', 'Three', 'Four']
          return arr;
        }

        arr=syncReadFile('employees.txt');
        //let urlString = window.location.search;
        //let paramString = urlString.split('?')[1];
        //let queryString = new URLSearchParams(paramString);
        //let outString = "";//Your lucky day is ";
        //let name=queryString.get('name');
        //let month=Number(queryString.get('month'));
        //let year=Number(queryString.get('year'));
        //let day=Number(queryString.get('day'));
        //for (let pair of queryString.entries()) {
        //    outString+="Key is: " + pair[0];
        //    outString+="Value is: " + pair[1];
       // }
        //let A=37;
        //let B=43;
        //let C=16;
        //lucky = (name.length * A + month * B + day * C + year) % 31 + 1;
        document.getElementById("employees").innerHTML = arr[0];
    //"Random value is " + 1621*(Math.floor(Math.random() * 100)+10);
    </script>
</body>
</html>
